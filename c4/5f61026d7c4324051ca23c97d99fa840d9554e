r40264 branches/mingzha/warning_cleanup