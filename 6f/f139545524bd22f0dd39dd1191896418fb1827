r40336 branches/mingzha/w3_warning_cleanup